# Home Automation Configuration
# Non-sensitive settings (committed to git)
# Sensitive credentials go in .env

# Tesla integration deferred - see docs/TESLA_STATUS.md
# tesla:
#   email: "user@example.com"
#   refresh_token: "${TESLA_REFRESH_TOKEN}"

nest:
  project_id: "${NEST_PROJECT_ID}"
  client_id: "${NEST_CLIENT_ID}"
  client_secret: "${NEST_CLIENT_SECRET}"
  refresh_token: "${NEST_REFRESH_TOKEN}"
  device_id: "${NEST_DEVICE_ID}"
  away_temp: 62
  sleep_temp: 68
  comfort_temp: 70

locations:
  home:
    lat: 45.7054
    lng: -121.5215
    zip: "97031"
    city: "Hood River"
    state: "OR"
    radius_meters: 150  # Geofence for "at home"
  milwaukie:
    address: "Milwaukie, OR"
    lat: 45.4465
    lng: -122.6393

notifications:
  service: "ntfy"
  ntfy:
    topic: "py_home_7h3k2m9x"

tapo:
  username: "${TAPO_USERNAME}"
  password: "${TAPO_PASSWORD}"
  outlets:
    - name: "Livingroom Lamp"
      ip: "192.168.50.162"
    - name: "Bedroom Left Lamp"
      ip: "192.168.50.93"
    - name: "Bedroom Right Lamp"
      ip: "192.168.50.143"
    - name: "Heater"
      ip: "192.168.50.135"

sensibo:
  api_key: "${SENSIBO_API_KEY}"
  bedroom_ac_id: "${SENSIBO_AC_ID}"

alen:
  api_key: "${TUYA_API_KEY}"
  api_secret: "${TUYA_API_SECRET}"
  devices:
    bedroom:
      device_id: "${TUYA_DEVICE_ID_BEDROOM}"
      name: "Bedroom 75i"
    living_room:
      device_id: "${TUYA_DEVICE_ID_LIVING}"
      name: "Living Room 75i"
  thresholds:
    pm25_good: 25
    pm25_moderate: 50
    pm25_unhealthy: 100

roborock:
  username: "${ROBOROCK_USERNAME}"
  password: "${ROBOROCK_PASSWORD}"

github:
  token: "${GITHUB_TOKEN}"
  repo: "cyneta/py_home"
  todo_path: "TODO.md"

checkvist:
  username: "${CHECKVIST_USERNAME}"
  api_key: "${CHECKVIST_API_KEY}"
  lists:
    work: 123456
    personal: 789012

google_maps:
  api_key: "${GOOGLE_MAPS_API_KEY}"

openweather:
  api_key: "${OPENWEATHER_API_KEY}"
  units: "imperial"  # or "metric"
  zip_code: "97202,us"  # Default location (Portland, OR)

tempstick:
  api_key: "${TEMPSTICK_API_KEY}"
  sensor_id: "${TEMPSTICK_SENSOR_ID}"  # Format: TS00XXXXXX

presence:
  # Network-based presence detection (backup to iOS location)
  devices:
    primary:
      name: "Matt's iPhone"
      ip: "192.168.50.189"  # Get from: Settings → WiFi → (i) → IP Address
      # mac: "32:46:F1:EE:AA:33"  # Commented out - ping method uses IP only
      method: "ping"  # ping, arp, or auto (ping is most reliable for iPhones)

    # Add more devices if needed
    # ipad:
    #   name: "Matt's iPad"
    #   ip: "192.168.1.51"
    #   mac: "BB:CC:DD:EE:FF:00"
    #   method: "auto"

# Automation Settings
automation:
  tesla_preheat:
    cold_threshold_f: 40
    min_battery_percent: 30
    target_temp_f: 72

  temp_coordination:
    # Night mode temperature for Master Suite
    night_mode_temp_f: 66

  grow_light:
    on_time: "06:00"
    off_time: "20:00"
